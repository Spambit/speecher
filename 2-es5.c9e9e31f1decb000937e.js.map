{"version":3,"sources":["webpack:///src/app/services/toast.service.ts","webpack:///src/app/components/speecher-toast/speecher-toast.component.ts","webpack:///src/app/services/note.service.ts","webpack:///src/app/components/accordian/accordian.component.ts","webpack:///src/app/components/accordian/accordian.component.html","webpack:///src/app/services/template.service.ts"],"names":["ToastService","toasts","textOrTpl","options","this","push","show","successTpl","duration","classname","header","delay","dangerTpl","toast","filter","t","pop","toastService","ToastContainerComponent","applyngbToastClass","NoteService","driveService","dateService","note","Promise","resolve","reject","findFolder","name","defaultFolderName","then","found","IDs","length","console","log","createBaseFolder","ret","id","saveNoteInternal","parentFolderId","findFile","createFile","withContent","JSON","stringify","folderId","AccordianComponent","index","item","TemplateService","resolver","viewContainer","component","factory","resolveComponentFactory","ref","createComponent","instance","getTemplateRef","subscribe","template","destroy","error","TemplateWrapperBase","asObservable","content","next","complete"],"mappings":"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","file":"x","sourcesContent":["import { Injectable, TemplateRef } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class ToastService {\n  toasts: any[] = [];\n\n  show(textOrTpl: string | TemplateRef<any>, options: ToastOption  = {}) {\n    this.toasts.push({ textOrTpl, ...options });\n  }\n  showStandard() {\n    this.show('I am a standard toast');\n  }\n\n  showSuccess(successTpl: string | TemplateRef<any> = '', duration: number = 3000) {\n    this.show(successTpl, {\n      classname: 'bg-success text-light',\n      header: 'Success',\n      delay: duration\n    });\n  }\n\n  showDanger(dangerTpl: string = '', duration: number = 3000) {\n    this.show(dangerTpl, { classname: 'bg-danger text-light', delay: duration});\n  }\n\n  remove(toast) {\n    this.toasts = this.toasts.filter(t => t !== toast);\n  }\n  removeLast(){\n    this.toasts.pop();\n  }\n}\n\nexport interface ToastOption {\n  context?: any;\n  classname?: string;\n  delay?: number;\n  header?: string;\n}\n","import {Component, TemplateRef, HostBinding, ViewEncapsulation} from '@angular/core';\nimport {ToastService} from '@services/toast.service';\n\n\n@Component({\n  selector: 'speecher-toasts',\n  styleUrls: ['./speecher-toast.component.scss'],\n  template: `\n    <ngb-toast\n      *ngFor=\"let toast of toastService.toasts\"\n      [class]=\"toast.classname\"\n      [autohide]=\"true\"\n      [delay]=\"toast.delay || 6000000\"\n      (hide)=\"toastService.remove(toast)\"\n      [header]=\"toast.header\"\n    >\n      <ng-template [ngIf]=\"isTemplate(toast)\" [ngIfElse]=\"text\">\n        <ng-template [ngTemplateOutlet]=\"toast.textOrTpl\" [ngTemplateOutletContext]=\"toast.context\"></ng-template>\n      </ng-template>\n\n      <ng-template #text>{{ toast.textOrTpl }}</ng-template>\n    </ngb-toast>\n  `,\n})\nexport class ToastContainerComponent {\n  constructor(public toastService: ToastService) {}\n  @HostBinding('class.ngb-toasts') applyngbToastClass = true;\n  isTemplate(toast): boolean {\n    return toast.textOrTpl instanceof TemplateRef;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { DriveService } from './drive.service';\nimport { DateService } from './date.service';\nimport { Note } from './filter.result';\n\n@Injectable({providedIn: 'root'})\nexport class NoteService {\n  constructor(private driveService: DriveService, private dateService: DateService) { }\n  public saveNoteInGoogleDrive(note: Note): Promise<void> {\n    return new Promise((resolve, reject) => {\n      this.findFolder({ name: DriveService.defaultFolderName }).then((found) => {\n        if (found.IDs.length === 0) {\n          console.log('Not found base folder');\n          return this.driveService\n            .createBaseFolder()\n            .then((ret) => {\n              console.log(`Base folder created with id: ${ret.id}`);\n              this.saveNoteInternal({note, parentFolderId: ret.id })\n                .then(() => resolve())\n                .catch(reject);\n            })\n            .catch(reject);\n        }\n        console.log(`Found base folder : ${found.IDs[0]}`);\n        return this.saveNoteInternal({ parentFolderId : found.IDs[0], note })\n          .then(() => resolve())\n          .catch(reject);\n      });\n    });\n  }\n\n  private findFolder({ name = '' }): Promise<{IDs?: string[]}> {\n    return this.driveService.findFile({ name });\n  }\n\n  private saveNoteInternal({ note, parentFolderId}: { note: Note; parentFolderId: string}): Promise<{id: string}> {\n    return this.driveService\n      .createFile({\n        withContent: JSON.stringify(note),\n        name: note.name,\n        folderId: parentFolderId,\n      });\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { TemplateWrapperBase } from '@services/template.service';\nimport { IWord } from '@services/filter.result';\n\n@Component({\n    selector: 'speecher-toast-accordian',\n    templateUrl: 'accordian.component.html',\n    styleUrls: ['accordian.component.scss'],\n})\nexport class AccordianComponent extends TemplateWrapperBase {\n  identify(index: number, item: string) {\n    return index;\n  }\n}\n","<ng-template let-word=\"word\">\n  <ngb-accordion activeIds=\"examples, meaning\">\n    <ngb-panel id='meaning'>\n      <ng-template ngbPanelHeader>\n        <div class=\"d-flex justify-content-between\">\n          <textarea spellcheck='false' class=\"border-0 form-control bg-dark\" rows=\"1\" name=\"name\"\n            [(ngModel)]=\"word.name\" (ngModelChange)=\"word.onChange($event)\"></textarea>\n          <button *ngIf=\"word.onClose\" type=\"button\" (click)=\"word.onClose()\" class=\"ml-2 close\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n      </ng-template>\n      <ng-template ngbPanelContent>\n        <textarea name=\"meaning\" rows=\"2\" spellcheck='false'\n        [(ngModel)]=\"word.meaning\" (ngModelChange)=\"word.onChange($event)\"\n          class=\"speecher-font-ms border-0 form-control bg-dark\"></textarea>\n      </ng-template>\n    </ngb-panel>\n    <ngb-panel id='examples' *ngIf=\"word.example.length !== 0\">\n      <ng-template ngbPanelTitle>\n        <strong class=\"m-0\">Example</strong>\n      </ng-template>\n      <ng-template ngbPanelContent>\n        <ng-template ngFor let-example [ngForOf]=\"word.example\" let-i=\"index\" [ngForTrackBy]=\"identify\">\n          <textarea [(ngModel)]=\"word.example[i]\" (ngModelChange)=\"word.onChange($event)\" rows=\"1\" spellcheck='false'\n            class=\"speecher-font-ms border-0 form-control bg-dark\"></textarea>\n          <hr />\n        </ng-template>\n      </ng-template>\n    </ngb-panel>\n  </ngb-accordion>\n</ng-template>\n","import {\n  Injectable,\n  ComponentFactoryResolver,\n  ComponentFactory,\n  Type,\n  TemplateRef,\n  ComponentRef,\n  AfterViewInit,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class TemplateService {\n  constructor(\n    private resolver: ComponentFactoryResolver,\n  ) {}\n  public getTemplateContent<T>(\n    viewContainer: ViewContainerRef,\n    component: Type<any>,\n  ): Promise<TemplateRef<any>> {\n    return new Promise((resolve, reject) => {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(\n        component\n      );\n      const ref: ComponentRef<any> = viewContainer.createComponent(factory);\n      const instance = ref.instance as TemplateWrapperBase;\n      instance.getTemplateRef().subscribe(\n        (template: TemplateRef<any>) => {\n          if (template !== null) {\n            resolve(template);\n          } else {\n            reject('template does not exist in this component: ' + component);\n          }\n          ref.destroy();\n        },\n        (error) => {\n          reject(error);\n          ref.destroy();\n        }\n      );\n    });\n  }\n}\n\nexport class TemplateWrapperBase implements AfterViewInit {\n  @ViewChild(TemplateRef) private content: TemplateRef<any>;\n  private template: Subject<TemplateRef<any>> = new Subject();\n\n  getTemplateRef(): Observable<TemplateRef<any>> {\n    return this.template.asObservable();\n  }\n\n  ngAfterViewInit(): any {\n    if (this.content) {\n      this.template.next(this.content);\n      this.template.complete();\n    }\n  }\n}\n"]}